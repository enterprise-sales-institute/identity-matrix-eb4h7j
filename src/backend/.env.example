# Server Configuration
# -------------------
NODE_ENV=development
PORT=3000
API_BASE_URL=http://localhost:3000
CORS_ORIGIN=http://localhost:5173
TRUST_PROXY=true
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX=1000

# PostgreSQL Configuration (v15+)
# -----------------------------
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=attribution
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your_secure_password
POSTGRES_SSL=false
POSTGRES_SSL_CA=
POSTGRES_POOL_MIN=2
POSTGRES_POOL_MAX=10
POSTGRES_POOL_IDLE_TIMEOUT=10000
POSTGRES_STATEMENT_TIMEOUT=30000
POSTGRES_QUERY_TIMEOUT=30000

# ClickHouse Configuration (v23.3+)
# ------------------------------
CLICKHOUSE_HOST=localhost
CLICKHOUSE_PORT=8123
CLICKHOUSE_DB=attribution_analytics
CLICKHOUSE_USER=default
CLICKHOUSE_PASSWORD=your_secure_password
CLICKHOUSE_SSL=false
CLICKHOUSE_SSL_CA=
CLICKHOUSE_POOL_MIN=2
CLICKHOUSE_POOL_MAX=10
CLICKHOUSE_POOL_IDLE_TIMEOUT=10000
CLICKHOUSE_MAX_EXECUTION_TIME=30
CLICKHOUSE_COMPRESSION=true

# Redis Configuration (v7.0+)
# ------------------------
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your_secure_password
REDIS_DB=0
REDIS_SSL=false
REDIS_SSL_CA=
REDIS_CLUSTER_ENABLED=false
REDIS_CLUSTER_NODES=localhost:6379
REDIS_CLUSTER_REPLICAS=1
REDIS_KEY_PREFIX=attribution:
REDIS_MAX_RETRIES=3
REDIS_RETRY_DELAY=1000

# Authentication Configuration
# -------------------------
JWT_SECRET=your_jwt_secret_key
JWT_EXPIRES_IN=3600
JWT_REFRESH_SECRET=your_jwt_refresh_secret_key
JWT_REFRESH_EXPIRES_IN=604800
OAUTH_CLIENT_ID=your_oauth_client_id
OAUTH_CLIENT_SECRET=your_oauth_client_secret
OAUTH_CALLBACK_URL=http://localhost:3000/auth/callback
OAUTH_SCOPES=profile email
MFA_ENABLED=true
MFA_TYPE=totp
MFA_TOKEN_VALIDITY=5
MFA_BACKUP_CODES=10
PASSWORD_HASH_ROUNDS=12

# Kafka Configuration (v3.0+)
# ------------------------
KAFKA_BROKERS=localhost:9092
KAFKA_CLIENT_ID=attribution-analytics
KAFKA_GROUP_ID=attribution-analytics-group
KAFKA_SSL_ENABLED=false
KAFKA_SSL_CA=
KAFKA_SSL_KEY=
KAFKA_SSL_CERT=
KAFKA_SESSION_TIMEOUT=30000
KAFKA_HEARTBEAT_INTERVAL=3000
KAFKA_MAX_BATCH_SIZE=1000
KAFKA_READ_BATCH_TIMEOUT=1000
KAFKA_AUTO_COMMIT=true
KAFKA_RETRY_MAX_ATTEMPTS=5
KAFKA_RETRY_INITIAL_DELAY=1000

# Logging Configuration
# -------------------
LOG_LEVEL=debug
LOG_FORMAT=json
LOG_FILE_ENABLED=false
LOG_FILE_PATH=./logs/app.log
LOG_MAX_SIZE=10m
LOG_MAX_FILES=7d
LOG_COMPRESSION=true
LOG_SANITIZE_FIELDS=password,secret,token
LOG_INCLUDE_TRACE=true

# Monitoring Configuration
# ----------------------
METRICS_ENABLED=true
METRICS_PORT=9090
METRICS_PATH=/metrics
METRICS_PREFIX=attribution_
TRACING_ENABLED=true
TRACING_SAMPLER_RATE=1.0
JAEGER_ENDPOINT=http://localhost:14268/api/traces
HEALTH_CHECK_PATH=/health
HEALTH_CHECK_DETAILED=true